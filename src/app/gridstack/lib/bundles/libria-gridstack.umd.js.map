{"version":3,"file":"libria-gridstack.umd.js.map","sources":["ng://@libria/gridstack/components/gridstack-item.component.ts","ng://@libria/gridstack/services/gridstack.service.ts","ng://@libria/gridstack/components/gridstack.component.ts","ng://@libria/gridstack/gridstack.module.ts"],"sourcesContent":["import { Item } from './models/item';\r\nimport {\r\n    AfterViewInit,\r\n    Component,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Host,\r\n    Input,\r\n    NgZone,\r\n    OnInit,\r\n    Output,\r\n    Renderer2,\r\n    ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { GridItem } from './models/grid-item';\r\n\r\ndeclare var _: any;\r\nlet _sequence = 0;\r\n\r\n@Component({\r\n    selector: 'div[lb-gridstack-item]',\r\n    templateUrl: './gridstack-item.component.html',\r\n    styleUrls: ['./gridstack-item.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class GridstackItemComponent implements AfterViewInit, GridItem { \r\n    @Input() x: number | string;\r\n    @Input() y: number | string;\r\n    @Input() width: number | string;\r\n    @Input() height: number | string;\r\n    @Input() id: string;\r\n    @Input('max-width') maxWidth: number | string;\r\n    @Input('max-height') maxHeight: number | string;\r\n    @Input('min-width') minWidth: number | string;\r\n    @Input('min-height') minHeight: number | string;\r\n    @Input('no-resize') noResize: boolean | string;\r\n    @Input('no-move') noMove: boolean | string;\r\n    @Input('auto-position') autoPosition: boolean | string;\r\n    @Input() locked: boolean | string;\r\n    public generatedId: string = (_sequence++).toString();\r\n\r\n    constructor(public elem: ElementRef,\r\n        private _renderer: Renderer2\r\n    ) { }\r\n\r\n    ngAfterViewInit() {\r\n        this._renderer.addClass(this.elem.nativeElement, 'grid-stack-item');\r\n        this._setAttributeIfNotUndefined('data-gs-x', this.x);\r\n        this._setAttributeIfNotUndefined('data-gs-y', this.y);\r\n        this._setAttributeIfNotUndefined('data-gs-width', this.width);\r\n        this._setAttributeIfNotUndefined('data-gs-height', this.height);\r\n        this._setAttributeIfNotUndefined('data-gs-id', this.id);\r\n        this._setAttributeIfNotUndefined('data-gs-max-width', this.maxWidth);\r\n        this._setAttributeIfNotUndefined('data-gs-max-height', this.maxHeight);\r\n        this._setAttributeIfNotUndefined('data-gs-min-width', this.minWidth);\r\n        this._setAttributeIfNotUndefined('data-gs-min-height', this.minHeight);\r\n        \r\n        this._setAttributeIfTrue('data-gs-no-resize', this.noResize);\r\n        this._setAttributeIfTrue('data-gs-no-move', this.noMove);\r\n        this._setAttributeIfTrue('data-gs-auto-position', this.autoPosition);\r\n        this._setAttributeIfTrue('data-gs-locked', this.locked);\r\n    }\r\n\r\n    private _setAttributeIfNotUndefined(attrName: string, val: number | string): void {\r\n        if (!_.isNull(val) && !_.isUndefined(val)) {\r\n            this._renderer.setAttribute(this.elem.nativeElement, attrName, val.toString());\r\n        }\r\n    }\r\n\r\n    private _setAttributeIfTrue(attrName: string, val: boolean | string): void {\r\n        if (val === true || val === 'true') {\r\n            this._renderer.setAttribute(this.elem.nativeElement, attrName, 'true');\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Grid } from '../components/models/grid';\r\nimport { GridItem } from '../components/models/grid-item';\r\n\r\n@Injectable()\r\nexport class GridstackService {\r\n    private _gridItems: {\r\n        gridId: string;\r\n        item: GridItem;\r\n    }[] = [];\r\n\r\n    private _grids:Grid[] = [];\r\n\r\n    constructor() { }\r\n\r\n    addGrid(grid: Grid) {\r\n        this._grids.push(grid);\r\n    }\r\n\r\n    removeGrid(grid: Grid) {\r\n        this._grids.splice(this._grids.findIndex(g => g.generatedId == grid.generatedId), 1);\r\n        this._gridItems = this._gridItems.filter(gi => gi.gridId != grid.generatedId);\r\n    }\r\n\r\n    attachGridItem(gridId: string, gridItemId: string) {\r\n        this._gridItems.find(gi => gi.item.generatedId == gridItemId).gridId = gridId;\r\n    }\r\n\r\n    detachGridItemIfExists(gridItemId: string) {\r\n        const gridItem = this._gridItems.find(gi => gi.item.generatedId == gridItemId);\r\n\r\n        if (!!gridItem) {\r\n            gridItem.gridId = null;\r\n        }\r\n    }\r\n\r\n    getGridItems(gridId: string) {\r\n        return this._gridItems.filter(gi => gi.gridId == gridId).map(g => g.item);\r\n    }\r\n\r\n    getOrphanGridItems() {\r\n        return this._gridItems.filter(gi => gi.gridId == null).map(g => g.item);\r\n    }\r\n\r\n    addOrphanGridItem(gridItem: GridItem) {\r\n        this._gridItems.push({\r\n            gridId: null,\r\n            item: gridItem\r\n        });\r\n    }\r\n\r\n    removeGridItem(gridItemId: string) {\r\n        this._gridItems.splice(this._gridItems.findIndex(gi => gi.item.generatedId == gridItemId), 1);\r\n    }\r\n}","import { GridstackOptions } from './models/gridstack-options';\r\nimport {\r\n    AfterContentInit,\r\n    AfterViewInit,\r\n    ChangeDetectionStrategy,\r\n    ChangeDetectorRef,\r\n    Component,\r\n    ContentChildren,\r\n    ElementRef,\r\n    EventEmitter,\r\n    Input,\r\n    NgZone,\r\n    Output,\r\n    QueryList,\r\n    Renderer2,\r\n    ViewEncapsulation,\r\n    ViewContainerRef,\r\n    OnInit,\r\n    OnDestroy,\r\n    OnChanges,\r\n    SimpleChanges,\r\n} from '@angular/core';\r\n\r\ndeclare var _: any;\r\nlet _sequence = 0;\r\n\r\nimport { GridstackItemComponent } from './gridstack-item.component';\r\nimport { Item } from './models/item';\r\nimport { GridstackService } from '../services/gridstack.service';\r\nimport { Grid } from './models/grid';\r\nimport { GridItem } from './models/grid-item';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'div[lb-gridstack]',\r\n    templateUrl: './gridstack.component.html',\r\n    styleUrls: ['./gridstack.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class GridstackComponent implements OnInit, OnDestroy, AfterViewInit, OnChanges, Grid {\r\n    @ContentChildren(GridstackItemComponent) gridstackItems: QueryList<GridstackItemComponent>;\r\n    @Input() options: GridstackOptions;\r\n    @Input() animate: boolean | string;\r\n    @Input() width: number | string;\r\n    @Input() height: number | string;\r\n\r\n    @Output() change = new EventEmitter<Item[]>();\r\n    @Output() added = new EventEmitter<Item[]>();\r\n    @Output() removed = new EventEmitter<Item[]>();\r\n\r\n    public generatedId = (_sequence++).toString();\r\n\r\n    private _gridstack: any;\r\n\r\n    private _ngUnsubscribe = new Subject();\r\n\r\n    constructor(private _zone: NgZone,\r\n        private _el: ElementRef,\r\n        private _renderer: Renderer2,\r\n        private _gridstackService: GridstackService) { }\r\n\r\n    ngOnInit(): void {\r\n        if (this.options && this.options.acceptWidgets != null) {\r\n            console.error('acceptWidgets option not supported yet!');\r\n        }\r\n\r\n        this._zone.runOutsideAngular(() => {\r\n            this._renderer.addClass(this._el.nativeElement, 'grid-stack');\r\n\r\n            if (this._isValueTrue(this.animate)) {\r\n                this._renderer.setAttribute(this._el.nativeElement, 'data-gs-animate', 'true');\r\n            }\r\n\r\n            this._setAttributeIfNotUndefined('data-gs-width', this.width);\r\n            this._setAttributeIfNotUndefined('data-gs-height', this.height);\r\n\r\n            const width = this.width || (this.options || {}).width;\r\n\r\n            if (!_.isNull(width) && !_.isUndefined(width)) {\r\n                this._renderer.addClass(this._el.nativeElement, `grid-stack-${width}`);\r\n            }\r\n\r\n            const el = (<any>$(this._el.nativeElement)).gridstack(this.options);\r\n            $(el).data('generated-id', this.generatedId);\r\n            this._gridstack = $(el).data('gridstack');\r\n\r\n            this._gridstackService.addGrid(this);\r\n\r\n            // Hook events\r\n            $(this._el.nativeElement).on('added', (evt: any, items: Item[]) => {\r\n                const itemsOfCurrentGrid = this._gridstackService.getGridItems(this.generatedId);\r\n                const existingItemIds: string[] = (<any>this._gridstack).grid.nodes.map(i => $(i.el)\r\n                    .attr('class')\r\n                    .split(/\\s+/)\r\n                    .find(s => s.startsWith('lb-generated-id-'))\r\n                    .replace('lb-generated-id-', ''));\r\n\r\n                const itemsToAdd = existingItemIds.filter(i => !itemsOfCurrentGrid.some(ei => ei.generatedId == i));\r\n                itemsToAdd.forEach(i => this._gridstackService.attachGridItem(this.generatedId, i));\r\n\r\n                this.added.emit(items);\r\n            });\r\n\r\n            $(this._el.nativeElement).on('change', (evt: any, items: Item[]) => {\r\n                this.change.emit(items);\r\n            });\r\n\r\n            $(this._el.nativeElement).on('removed', (evt: any, items: Item[]) => {\r\n                const itemsOfCurrentGrid = this._gridstackService.getGridItems(this.generatedId);\r\n                const existingItemIds: string[] = (<any>this._gridstack).grid.nodes.map(i => $(i.el)\r\n                    .attr('class')\r\n                    .split(/\\s+/)\r\n                    .find(s => s.startsWith('lb-generated-id-'))\r\n                    .replace('lb-generated-id-', ''));\r\n\r\n                const itemsToDelete = itemsOfCurrentGrid.filter(i => !existingItemIds.some(ei => ei == i.generatedId));\r\n                itemsToDelete.forEach(i => this._gridstackService.detachGridItemIfExists(i.generatedId));\r\n                this.removed.emit(items);\r\n            });\r\n        });\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        const heightChanges = changes['height'];\r\n        const optionsChanges = changes['options'];\r\n\r\n        if (heightChanges && !heightChanges.isFirstChange() && heightChanges.currentValue != heightChanges.previousValue) {\r\n            this._updateGridstackHeight(+heightChanges.currentValue);\r\n        }\r\n\r\n        if (optionsChanges && !optionsChanges.isFirstChange()) {\r\n            const prev: GridstackOptions = optionsChanges.previousValue;\r\n            const curr: GridstackOptions = optionsChanges.currentValue;\r\n\r\n            if (curr.cellHeight != prev.cellHeight) {\r\n                this._updateGridstackHeight(curr.cellHeight);\r\n            }\r\n        }\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.gridstackItems.changes\r\n            .pipe(takeUntil(this._ngUnsubscribe))\r\n            .subscribe(changes => {\r\n                this._handleItemChanges(this.gridstackItems.toArray());\r\n            });\r\n\r\n        this._handleItemChanges(this.gridstackItems.toArray());\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._ngUnsubscribe.next();\r\n        this._gridstack.destroy();\r\n        this._gridstackService.removeGrid(this);\r\n    }\r\n\r\n    private _updateGridstackHeight(height: number | string) {\r\n        this._zone.runOutsideAngular(() => {\r\n            this._gridstack.cellHeight(<any>height);\r\n        });\r\n    }\r\n\r\n    private _handleItemChanges(items: GridstackItemComponent[]): void {\r\n        const itemsOfCurrentGrid = this._gridstackService.getGridItems(this.generatedId);\r\n        const itemsToAdd = items.filter(i => !itemsOfCurrentGrid.some(w => w.generatedId == i.generatedId));\r\n        const itemsToRemove = itemsOfCurrentGrid.filter(w => !items.some(i => i.generatedId == w.generatedId));\r\n\r\n        this._gridstack.batchUpdate();\r\n        itemsToAdd.forEach(i => this._addItem(i));\r\n        itemsToRemove.forEach(i => this._removeItem(i));\r\n        this._gridstack.commit();\r\n    }\r\n\r\n    private _addItem(item: GridstackItemComponent): void {\r\n        this._zone.runOutsideAngular(() => {\r\n            if (this._gridstack.willItFit(+item.x, +item.y, +item.width, +item.height, this._isValueTrue(item.autoPosition))) {\r\n                this._gridstackService.addOrphanGridItem(item);\r\n                $(item.elem.nativeElement).addClass('lb-generated-id-' + item.generatedId);\r\n                this._gridstack.makeWidget(item.elem.nativeElement);\r\n            } else {\r\n                console.error('Not enough free space to place the widget');\r\n            }\r\n        });\r\n    }\r\n\r\n    private _removeItem(item: GridItem): void {\r\n        this._gridstackService.removeGridItem(item.generatedId);\r\n\r\n        this._zone.runOutsideAngular(() => {\r\n            this._gridstack.removeWidget(item.elem.nativeElement);\r\n        });\r\n    }\r\n\r\n    private _setAttributeIfNotUndefined(attrName: string, val: number | string): void {\r\n        if (!_.isNull(val) && !_.isUndefined(val)) {\r\n            this._renderer.setAttribute(this._el.nativeElement, attrName, val.toString());\r\n        }\r\n    }\r\n\r\n    private _isValueTrue(val: boolean | string) {\r\n        return (val === true || val === 'true');\r\n    }\r\n}\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { GridstackComponent } from './components/gridstack.component';\r\nimport { GridstackItemComponent } from './components/gridstack-item.component';\r\nimport { GridstackService } from './services/gridstack.service';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule\r\n    ],\r\n    declarations: [\r\n        GridstackComponent,\r\n        GridstackItemComponent],\r\n    exports: [\r\n        GridstackComponent,\r\n        GridstackItemComponent]\r\n})\r\nexport class GridstackModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return {\r\n            ngModule: GridstackModule,\r\n            providers: [\r\n                GridstackService\r\n            ]\r\n        };\r\n    }\r\n}\r\n"],"names":["Component","ViewEncapsulation","ElementRef","Renderer2","Input","Injectable","_sequence","EventEmitter","Subject","takeUntil","NgZone","ContentChildren","Output","NgModule","CommonModule"],"mappings":"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"}
